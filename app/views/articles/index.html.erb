<table class="table table-striped">
  <tr>
    <th>Content</th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @articles.each do |article| %>
  <tr>
    <td><%= link_to "#{article.content}", article %></td>
    <td><%= link_to '#', class: 'btn btn-default'  do  %> <i class="glyphicon glyphicon-user"></i><% end %></td>
    <td><%= link_to article, class: 'btn btn-default'  do  %> <i class="glyphicon glyphicon-eye-open"></i><% end %></td>
    <td><%= link_to edit_article_path(article),class: 'btn btn-default' do  %> <i class="glyphicon glyphicon-edit"></i><% end %></td>
    <td><%= link_to article, method: :delete,class: 'btn btn-default', id: 'delete' do  %> <i class="glyphicon glyphicon-trash"></i><% end %></td>
  </tr>

  <tr>
    <td><button class="btn btn-info" onclick="addComment(<%= article.id %>);">new comment</button></td>
  </tr>

  <tr class="comments" style="display:none" id="comment_row_<%= article.id %>">
    <td><div id="comment_<%= article.id %>"></div></td>
  </tr>

<% end %>
</table>


<br />

<script>

    var addComment = function(article_id){

        var element = '#comment_' + article_id ;
        var comment_row = '#comment_row_' + article_id;

        $(element).load('/comments/new?' + $.param( { article_id : article_id }));
        $(comment_row).show();
    };

</script>
















